{"ast":null,"code":"var _jsxFileName = \"F:\\\\Project\\\\Web\\\\demoprojectreact\\\\src\\\\components\\\\classes\\\\ManageClassesPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ClassesForm from \"./ClassesForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ManageClassesPage({\n  folioClasses,\n  loadClasses,\n  saveCourse,\n  history,\n  ...props\n}) {\n  _s();\n\n  const [folioClass, setClasses] = useState({ ...props.folioClass\n  });\n  const [errors, setErrors] = useState({});\n  useEffect(() => {\n    if (folioClasses.length === 0) {\n      loadClasses().catch(error => {//alert(\"Loading courses failed\" + error);\n      });\n    } else {\n      setClasses({ ...props.folioClass\n      });\n    }\n  }, [props.folioClass]);\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setClasses(prevClass => ({ ...prevClass,\n      [name]: name === \"authorId\" ? parseInt(value, 10) : value\n    }));\n  }\n\n  function handleSave(event) {\n    event.preventDefault();\n    saveClass(course).then(() => {\n      history.push(\"/classes\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(ClassesForm, {\n    folioClass: folioClass,\n    errors: errors,\n    onChange: handleChange,\n    onSave: handleSave\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ManageClassesPage, \"WLj1hj8BEYBc+xqUl2RWI4y4mOo=\");\n\n_c = ManageClassesPage;\nManageClassesPage.propTypes = {\n  folioClass: PropTypes.object.isRequired,\n  folioClasses: PropTypes.array.isRequired,\n  loadClasses: PropTypes.func.isRequired,\n  saveCourse: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired\n};\nexport function getCourseBySlug(courses, slug) {\n  return courses.find(course => course.slug === slug) || null;\n}\n\nfunction mapStateToProps(state, ownProps) {\n  const slug = ownProps.match.params.slug;\n  const course = slug && state.courses.length > 0 ? getCourseBySlug(state.courses, slug) : newCourse;\n  return {\n    course,\n    courses: state.courses,\n    authors: state.authors\n  };\n}\n\nconst mapDispatchToProps = {};\nexport default ManageCoursePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageClassesPage\");","map":{"version":3,"sources":["F:/Project/Web/demoprojectreact/src/components/classes/ManageClassesPage.js"],"names":["React","useEffect","useState","PropTypes","ClassesForm","ManageClassesPage","folioClasses","loadClasses","saveCourse","history","props","folioClass","setClasses","errors","setErrors","length","catch","error","handleChange","event","name","value","target","prevClass","parseInt","handleSave","preventDefault","saveClass","course","then","push","propTypes","object","isRequired","array","func","getCourseBySlug","courses","slug","find","mapStateToProps","state","ownProps","match","params","newCourse","authors","mapDispatchToProps","ManageCoursePage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ClassesForm from \"./ClassesForm\";\r\n\r\nfunction ManageClassesPage({\r\n    folioClasses,\r\n    loadClasses,\r\n    saveCourse,\r\n    history,\r\n    ...props\r\n}) {\r\n    const [folioClass, setClasses] = useState({ ...props.folioClass });\r\n    const [errors, setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (folioClasses.length === 0) {\r\n            loadClasses().catch(error => {\r\n                //alert(\"Loading courses failed\" + error);\r\n            });\r\n        } else {\r\n            setClasses({ ...props.folioClass });\r\n        }\r\n\r\n\r\n    }, [props.folioClass]);\r\n\r\n    function handleChange(event) {\r\n        const { name, value } = event.target;\r\n        setClasses(prevClass => ({\r\n            ...prevClass,\r\n            [name]: name === \"authorId\" ? parseInt(value, 10) : value\r\n        }));\r\n    }\r\n\r\n    function handleSave(event) {\r\n        event.preventDefault();\r\n        saveClass(course).then(() => {\r\n            history.push(\"/classes\");\r\n        });\r\n    }\r\n\r\n    return (\r\n        <ClassesForm\r\n            folioClass={folioClass}\r\n            errors={errors}\r\n            onChange={handleChange}\r\n            onSave={handleSave}\r\n        />\r\n    );\r\n}\r\n\r\nManageClassesPage.propTypes = {\r\n    folioClass: PropTypes.object.isRequired,\r\n    \r\n    folioClasses: PropTypes.array.isRequired,\r\n    loadClasses: PropTypes.func.isRequired,    \r\n    saveCourse: PropTypes.func.isRequired,\r\n    history: PropTypes.object.isRequired\r\n};\r\n\r\nexport function getCourseBySlug(courses, slug) {\r\n    return courses.find(course => course.slug === slug) || null;\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    const slug = ownProps.match.params.slug;\r\n    const course =\r\n        slug && state.courses.length > 0\r\n            ? getCourseBySlug(state.courses, slug)\r\n            : newCourse;\r\n    return {\r\n        course,\r\n        courses: state.courses,\r\n        authors: state.authors\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  \r\n};\r\n\r\nexport default ManageCoursePage;\r\n"]},"metadata":{},"sourceType":"module"}